
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>Introduction And Preliminaries - Combine</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e359304.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../mystyle.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction-and-preliminaries" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Combine" class="md-header__button md-logo" aria-label="Combine" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Combine
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction And Preliminaries
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/cms-analysis/HiggsAnalysis-CombinedLimit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../introduction.md" class="md-tabs__link">
          
  
    
  
  What Combine Does

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../part2/settinguptheanalysis/" class="md-tabs__link">
          
  
    
  
  Setting up the analysis

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../part3/runningthetool/" class="md-tabs__link">
          
  
    
  
  Running combine

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../part5/roofit/" class="md-tabs__link">
          
  
    
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../part4/usefullinks/" class="md-tabs__link">
        
  
    
  
  Links & FAQ

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Combine" class="md-nav__button md-logo" aria-label="Combine" data-md-component="logo">
      
  <img src="../../logo.png" alt="logo">

    </a>
    Combine
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/cms-analysis/HiggsAnalysis-CombinedLimit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    What Combine Does
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            What Combine Does
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_and_likelihood.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model and Likelihood
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fitting_concepts.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fitting Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../statistical_tests.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Statistical Tests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Setting up the analysis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Setting up the analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/settinguptheanalysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preparing the datacard
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/physicsmodels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Physics models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part2/bin-wise-stats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatic MC statistical uncertainties
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Running combine
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Running combine
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/runningthetool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running the tool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/commonstatsmethods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common statistical methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/nonstandard/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advanced use cases
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/simplifiedlikelihood.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplified Likelihoods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/regularisation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unfolding & regularization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validating datacards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part3/debugging.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging fit failures
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/roofit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RooFit Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Main Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Main Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/longexercise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercises
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part5/longexerciseanswers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solutions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial2023/parametric_exercise.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parametric Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorial2023_unfolding/unfolding_exercise.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Likelihood Based Unfolding
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../part4/usefullinks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Links & FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-model-and-the-likelihood" class="md-nav__link">
    <span class="md-ellipsis">
      The Model and the Likelihood
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statistical-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Statistical Tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inspection-and-validation" class="md-nav__link">
    <span class="md-ellipsis">
      Inspection and Validation
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="introduction-and-preliminaries">Introduction And Preliminaries</h1>
<p>Combine is a tool for making statistical analysis based on a model of expected observations and a dataset.
Example tatistical analyses are claiming discovery of a new particle or process, setting limits on the existence of new physics, or measuring physics parameters.</p>
<p>The package is has no physics-specific knowledge, it is completely agnostic to the interpretation of the analysis being performed, but its usage and development is based around common cases in High Energy Physics.
This documentation is a description of what combine does and how you can use it to run your analyses.</p>
<p>Roughly, combine does three things:</p>
<ol>
<li>Helps you to build a statistical model of expected observations;</li>
<li>Runs statistical tests on the model and observed data; and</li>
<li>Provides tools for validating, inspecting, and understanding the model and the statistical tests.</li>
</ol>
<p>The last point is particularly important. 
Model building and statistical tests can go wrong in many places.
Especially with the large complex models that are used in modern High Energy Physics analyses, many things can go wrong.
While combine automates many pieces of work that you would otherwise have to implement yourself, being able to inspect every step and check that assumptions hold, the results are robust, and everything is working.</p>
<h3 id="the-model-and-the-likelihood">The Model and the Likelihood</h3>
<p>In order to run the statistical tests, combine must be supplied with a model of expected observations. 
This could be, for example, a model of how many events are expected to be observed in several bins of a histogram.
It can also be a continuous distribution, codifying the probability density function for observing events with a given set of features.</p>
<p>In general, the model will actually be a set of models which depend on one or more parameters. 
i.e. We do not have one exact model of what we expect to observe; rather, what we expect to observe depends on a number of unknown parameters, and we have a set of models defining the expected observations for every set of parameter values.
Some of these parameters will be the parameters of interest, such as the cross section for some hypothesized new physics process.
Other parameters will be nuisance parameters, which are not necessarily of interest in and of themselves, but will effect the observation; for example the total luminosity recorded by the detector or the cross section of some background physics process.</p>
<p>The model is a function of the parameters of interest, <span class="arithmatex"><span class="MathJax_Preview">\vec{\mu}</span><script type="math/tex">\vec{\mu}</script></span>, and the nuisance parameters, <span class="arithmatex"><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>, and defines the expected observations.
We will denote the full model as <span class="arithmatex"><span class="MathJax_Preview">\mathcal{M}(\vec{\mu},\vec{\theta})</span><script type="math/tex">\mathcal{M}(\vec{\mu},\vec{\theta})</script></span>. </p>
<p>The model specifies the expected observations, on a statistical basis. 
Combine provides simple interfaces for defining the model.
For example, the user can provide a set of histograms which define the expected observation; they can also provide a set of histograms defining how the expected distribution changes as a function of some parameter.
The interface is relatively simple.</p>
<p>However, combine then does a lot of <em>behind the scenes</em> work to go from the inputs provided by the user to a full statistical model. 
This behind the scenes work comes in essentially two forms.</p>
<p>Firstly, the information provided by the user typically undertermines the model, in that the full model gives the expected observation for any value of the parameter <span class="arithmatex"><span class="MathJax_Preview">\vec{\mu}</span><script type="math/tex">\vec{\mu}</script></span> and <span class="arithmatex"><span class="MathJax_Preview">\vec{\theta}</span><script type="math/tex">\vec{\theta}</script></span>.
On the other hand, the user typically only supplies the expected values for a small discrete set of points; combine defines and implements the interpolations.</p>
<p>Secondly, the model <span class="arithmatex"><span class="MathJax_Preview">\mathcal{M}(\vec{\mu},\vec{\theta})</span><script type="math/tex">\mathcal{M}(\vec{\mu},\vec{\theta})</script></span>, defines the expected number of events. 
But the likelihood <span class="arithmatex"><span class="MathJax_Preview">\mathcal{L}</span><script type="math/tex">\mathcal{L}</script></span>, which is used for the statistical tests additionally defines a numerical value for each model determining how <span class="arithmatex"><span class="MathJax_Preview">a priori</span><script type="math/tex">a priori</script></span> likely that model is considered based on the parameter values that define it.
For example, a model in which a background has a five times higher cross section than expected is a valid model, but is considered unlikely, and this value is quantified by the likelihood.
The likelihood goes beyond the model of expected events for a given set of parameters; it encapsulates both the probability of observing any given dataset for a given model and the degree to which that model is favoured or disfavoured by external constraints such as previous measurements.</p>
<p>The full likelihood <span class="arithmatex"><span class="MathJax_Preview">\mathcal{L}(\vec{\mu},\vec{\theta}, \mathrm{data})</span><script type="math/tex">\mathcal{L}(\vec{\mu},\vec{\theta}, \mathrm{data})</script></span>, is a mathematical function defined by the model, its parametrs and the observed data.
Combine does the work of defining the full likelihood function based on the model provided by the user. 
With the full model and likelihood, combine is then able to run many types of statistical analyses.</p>
<p><strong>TODO</strong> reference to section(s) where the model and likelihood definitions are covered in detail.</p>
<h3 id="statistical-tests">Statistical Tests</h3>
<p>Once the likelihood has been defined it is useful for running many statistical tests, because it defines how probable any observation is for a given set of parameters, and how a priori likely a given set of parameters are considered.</p>
<p>Broadly and impreciseily speaking, the statistical testing framework can be summarized as follows. 
Given some set of possible observations define a <em>test statistic</em>. 
The test statistic can be any function which maps some observation or set of observations with a single real-valued number. 
This allows making comparisons (less than, greater than, equal to...) between the value of the test statistic for different observations.
This, in turn, allows quantifying aspects of a particular observation. 
For example when an expected distribution of values for the test statistic given some model is known, a particular observation can be defined as an outlier, and therefore unlikely given the model, and can serve to reject the model.</p>
<p>The choice of test statistic is crucially important as it will determine the discrimination power of the test. 
For example, the function which maps all observations to the number 1 is a valid test statistic, but it has no discriminatory power.
When testing a coin for fairness, using the number of heads or of tails are both good test statistics, but using the total number of heads plus tails is not.
The likelihood function, since it defines a single value for every observation is itself a valid test statistic, and moreover it can be used for defining many useful and powerful test statistics.
The likelihood based framework used by combine is one which uses the likelihood for defining powerful statistical tests.</p>
<p>In this framework, the likelihood itself is a typically high-dimensional function of the model parameters <span class="arithmatex"><span class="MathJax_Preview">\vec{\mu}</span><script type="math/tex">\vec{\mu}</script></span>, and <span class="arithmatex"><span class="MathJax_Preview">\vec{\theta}</span><script type="math/tex">\vec{\theta}</script></span>. 
Statistical questions such as "how unlikely is it that my hypothesized new physics cross section is larger than X" are quantized as questions about the likelihood function, such as "What is the largest value of the likelihood function for the observed data if I fix my cross section to X and how does that value compare to the largest value of the likelihood for any possible value of X?".</p>
<p>In general, these numerical questions are quite difficult to evaluate as they require asking complicated questions about an extremely high-dimensional dimensional and non-trivial function. 
A typical physics model will be a function of one or several parameters of interest, tens or sometimes hundreds of observed and expected values, and tens, hundreds, or sometimes even thousands of nuisance parameters.</p>
<p>One of the key things that combine does is to save the user time by not having to implement themselves the numerical evaluation evaluation of the statistical tests. 
There are well-known test-statistics which are useful for answering specific questions ( e.g. about limits that can be set on a parameter, or if the evidence for a new physics is strong).
Combine implements the calculation of these test-statistics on the given likelihood model and can report their numerical values.
However, combine cannot guess the question that a user is trying to ask, and in order for the question to be mathematically well formulated it must first be conceptually well formulated.
Combine cannot remove the burden of understanding what statisitcal tests a user would like to perform, and it is always the users job to understand what they are doing.</p>
<p>It should be noted that evaluations of the likelihood function itself is a difficult task, and combine relies upon other software for critical parts of this evaluation. 
In general the questions asked of the likelihood function (e.g. "what are the values of the parameters which maximize the likelihood function") cannot be answered analytically.
Typically numerical methods must be used, and combine both implements some of its own tools for performing some of the necessary tasks, as well as making use of external programs such as the MINUIT optimization program.</p>
<p>Combine also relies on the RooStats/RooFit framework for defining the underlying objects which represent the likelihood function, as well as many manipulations of the likelihood, such as generating sets of parameter values from their expected distributions.</p>
<p><strong>TODO</strong> reference to section(s) where the statistical tests are covered in detail</p>
<h3 id="inspection-and-validation">Inspection and Validation</h3>
<p>Given the complexity of the models under consideration, both from a statistical and physics perspective, it is important that the user is able to inspect the model and check it carefully.
Both in the definition of the model itself, and in the evaluation of the likelihood, many things can go wrong and if analyzers dont carefully validate their work, then the results likely won't have any connection to any real world physics.
There are many things which can easily go wrong; for example, the optimization may get stuck in a local minimum, or the inputs to the model may have large statistical fluctuations which do not represent the intended model accurately, leading to untrustworthy results.</p>
<p>To this end, combine provides a suite of tools for inspecting the model and carefully checking that the results of the statistical analysis can be trusted.
These tools are things like: 
- Validation tools which check for common problems in the input model. 
- Visualization tools which show the shape of the likelihood in one or two dimensions
- Tools which plot the post-fit model expectation and uncertainties and allow them to be compared to the data
- Tools which show you correlations between parameters and changes in which parameters will have the largest effect on the parameters of interest
- Tools which provide numerical values for how well the model matches the data
- Tools which allow you to produce pseudo-data and test the models behaviour against these fake datasets</p>
<p>It is imperative that the user actually makes use of these tools and endeavours to careful test and validate the model and statistical analysis which they perform.
In any complicated analysis, many things can go wrong, and it can virtually be guaranteed that until checking many elements carefully, some things will go wrong.</p>
<p><strong>TODO</strong> reference to sections where details are given on validation and other tools for inspection</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.footer", "navigation.indexes", "navigation.expand", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>